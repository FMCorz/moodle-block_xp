/**
 * Notification popup.
 *
 * @copyright  2022 Frédéric Massart
 * @author     Frédéric Massart <fred@branchup.tech>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_xp/popup-notification",["core/templates","core/modal","core/modal_events","core/notification"],(function(Templates,Modal,ModalEvents,Notification){return Templates.render("block_xp/modal-popup-notification",[]),{show:function(context,options){options=options||{},Templates.render("block_xp/modal-popup-notification",context).then((html=>{const modal=new Modal(html),hideBtn=modal.getFooter()[0].querySelector('[data-action="hide"]');modal.setRemoveOnClose(!0),void 0!==ModalEvents.outsideClick&&modal.getRoot().on(ModalEvents.outsideClick,(e=>{e.preventDefault()})),modal.getRoot().on(ModalEvents.shown,(()=>{options.onShown&&options.onShown(),setTimeout((()=>{hideBtn.classList.remove("xp-pointer-events-none"),hideBtn.classList.remove("xp-invisible"),hideBtn.classList.remove("xp-opacity-0")}),4e3)})),modal.getRoot().on(ModalEvents.hidden,(()=>{options.onDismissed&&options.onDismissed()})),modal.show()})).catch(Notification.exception)}}}));

//# sourceMappingURL=popup-notification.min.js.map