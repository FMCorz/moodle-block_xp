/**
 * Role button.
 *
 * @copyright  2022 Frédéric Massart
 * @author     Frédéric Massart <fred@branchup.tech>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_xp/role-button",[],(function(){return{delegateClick:function(rootSelector,nodeSelector,onClick){const nodes=document.querySelectorAll(rootSelector),handleHit=e=>{const node=e.target.closest("[role=button]");if(node&&node.matches(nodeSelector)){if(e.defaultPrevented)return;e.preventDefault(),onClick(node)}};nodes.forEach((node=>{node.addEventListener("click",handleHit),node.addEventListener("mousedown",(e=>{" "!==e.key&&"Enter"!==e.key||handleHit(e)})),node.querySelectorAll(nodeSelector).forEach((node=>{node.getAttribute("role")||node.setAttribute("role","button")}))}))},registerClick:function(selector,onClick){document.querySelectorAll(selector).forEach((node=>{const handleHit=e=>{e.defaultPrevented||(e.preventDefault(),onClick(node))};node.addEventListener("click",handleHit),node.addEventListener("mousedown",(e=>{" "!==e.key&&"Enter"!==e.key||handleHit(e)})),node.getAttribute("role")||node.setAttribute("role","button")}))}}}));

//# sourceMappingURL=role-button.min.js.map