{"version":3,"file":"ui-levels-lazy.min.js","sources":["../src/ui-levels-lazy.js"],"sourcesContent":["/* eslint-disable */\n/* Do not edit directly, refer to ui/ folder. */\ndefine([\"block_xp/ui-commons-lazy\"],() => { return /******/ (() => { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 791:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  App: () => (/* binding */ App),\n  dependencies: () => (/* binding */ dependencies),\n  startApp: () => (/* binding */ startApp)\n});\n\n// EXTERNAL MODULE: ./node_modules/@headlessui/react/dist/components/menu/menu.js + 13 modules\nvar menu = __webpack_require__(929);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(540);\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(961);\n// EXTERNAL MODULE: ./node_modules/react-query/es/index.js\nvar es = __webpack_require__(942);\n;// CONCATENATED MODULE: ./ui/src/lib/contexts.ts\n\nconst makeAddonContextValueFromAppProps = (props) => {\n    return {\n        activated: false,\n        enablepromo: true,\n        promourl: \"https://www.levelup.plus/xp/\",\n        ...(props?.addon ?? {}),\n    };\n};\nconst AddonContext = (0,react.createContext)({\n    activated: false,\n    enablepromo: true,\n    promourl: \"https://www.levelup.plus/xp/\", // Local promo page where possible.\n});\n\n;// CONCATENATED MODULE: ./ui/src/lib/utils.ts\nconst utils_classNames = (...args) => args.filter(Boolean).join(\" \");\nconst fifoCache = (maxItems = 128) => {\n    let items = {};\n    let keys = [];\n    const purge = () => {\n        if (keys.length > maxItems) {\n            const idx = Math.max(0, keys.length - maxItems);\n            keys.slice(0, idx).forEach((key) => {\n                delete items[key];\n            });\n            keys = keys.slice(idx);\n        }\n    };\n    return {\n        set: (key, value) => {\n            items[key] = value;\n            keys.push(key);\n            purge();\n        },\n        get: (key) => {\n            return items[key];\n        },\n    };\n};\nlet uniqueId = 0;\nconst utils_getUniqueId = () => {\n    return `xp-${Date.now()}-${uniqueId++}`;\n};\nconst stripTags = (html) => {\n    var tmp = document.createElement(\"div\");\n    tmp.innerHTML = html;\n    return tmp.textContent || tmp.innerText || \"\";\n};\nconst escapeCharMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#039;'\n};\nconst escapeHtml = (text) => {\n    return text.replace(/[&<>\"']/g, function (m) { return escapeCharMap[m]; });\n};\n\n;// CONCATENATED MODULE: ./ui/src/lib/moodle.ts\n\nconst M = window.M;\nconst modules = {};\n/**\n * List of modules that we currently depend on statically.\n *\n * Preferrably, modules should be loaded with getModuleAsync, which\n * does not require their definition to be declared in our apps.\n */\nconst commonStaticModulesToDependOn = [\n    \"core/notification\",\n    \"core/aria\",\n    \"?core/toast\",\n    \"jquery\",\n];\nasync function ajaxRequest(method, args) {\n    const Ajax = await getModuleAsync(\"core/ajax\");\n    return Ajax.call([{\n            methodname: method,\n            args,\n        }])[0];\n}\nfunction getString(id, component, a) {\n    return M.util.get_string(id, component, a);\n}\nfunction getUrl(uri) {\n    if (uri[0] != \"/\") {\n        uri = \"/\" + uri;\n    }\n    return M.cfg.wwwroot + uri;\n}\nfunction hasString(id, component) {\n    return typeof M.str[component] !== \"undefined\" && typeof M.str[component][id] !== \"undefined\";\n}\nfunction getModule(name) {\n    return modules[name];\n}\nasync function getModuleAsync(amd) {\n    if (modules[amd]) {\n        return modules[amd];\n    }\n    return new Promise((resolve, reject) => {\n        // @ts-ignore\n        window.require([amd], (mod) => {\n            modules[amd] = mod;\n            resolve(mod);\n        }, reject);\n    });\n}\nfunction imageUrl(name, component) {\n    return M.util.image_url(name, component);\n}\nfunction isBehatRunning() {\n    return M.cfg.behatsiterunning;\n}\nlet loadStringCache = fifoCache(64);\nasync function loadString(id, component) {\n    const cacheKey = `${id}/${component}`;\n    let promise = loadStringCache.get(cacheKey);\n    if (!promise) {\n        const Str = await getModuleAsync(\"core/str\");\n        promise = Str.get_string(id, component);\n        loadStringCache.set(cacheKey, promise);\n    }\n    return await promise;\n}\nasync function loadStrings(ids, component) {\n    const cacheKey = `${ids.join(\",\")}/${component}`;\n    let promise = loadStringCache.get(cacheKey);\n    if (!promise) {\n        const Str = await getModuleAsync(\"core/str\");\n        promise = Str.get_strings(ids.map((id) => ({ key: id, component })));\n        loadStringCache.set(cacheKey, promise);\n    }\n    return await promise;\n}\nconst makeDependenciesDefinition = (names) => {\n    let optional = [];\n    const list = names.map((name) => {\n        const isOptional = name.charAt(0) === \"?\";\n        const module = isOptional ? name.substring(1) : name;\n        if (isOptional) {\n            optional.push(module);\n        }\n        return module;\n    });\n    return {\n        list,\n        optional,\n        loader: (mods) => {\n            mods.forEach((mod, i) => {\n                setModule(list[i], mod);\n            });\n        },\n    };\n};\nfunction setModule(name, mod) {\n    modules[name] = mod;\n}\n\n;// CONCATENATED MODULE: ./ui/src/lib/hooks.ts\n\n\n\n\nconst useAddonActivated = () => {\n    return (0,react.useContext)(AddonContext).activated;\n};\nconst useAnchorButtonProps = (onClick) => {\n    const listeners = useRoleButtonListeners(onClick);\n    return {\n        href: \"#\",\n        role: \"button\",\n        ...listeners,\n    };\n};\n/**\n * Duplication check hook.\n *\n * Usage:\n *\n * const isActionPermitted = useDuplicatedActionPreventor();\n * useEffect(() => {\n *    if (!isActionPermitted()) return;\n * })\n */\nconst hooks_useDuplicatedActionPreventor = (msDelay = 100) => {\n    const ref = (0,react.useRef)();\n    return (0,react.useCallback)(() => {\n        if (ref.current && ref.current > Date.now() - msDelay) {\n            return false;\n        }\n        ref.current = Date.now();\n        return true;\n    }, []);\n};\nconst hooks_useModules = (modules) => {\n    const modulesPromise = (0,react.useRef)();\n    const modulesRef = (0,react.useRef)();\n    const [ready, setReady] = (0,react.useState)(false);\n    (0,react.useEffect)(() => {\n        if (modulesRef.current)\n            return;\n        if (!modulesPromise.current) {\n            modulesPromise.current = Promise.all(modules.map((module) => getModuleAsync(module)));\n        }\n        let cancelled = false;\n        modulesPromise.current.then((loadedModles) => {\n            if (cancelled)\n                return;\n            modulesRef.current = modules.reduce((acc, module, i) => {\n                acc[module] = loadedModles[i];\n                return acc;\n            }, {});\n            setReady(true);\n        });\n        return () => {\n            cancelled = true;\n        };\n    });\n    const getModule = (0,react.useCallback)((module) => {\n        if (!modulesRef.current)\n            return null;\n        return modulesRef.current[module] ?? null;\n    }, [ready, modulesRef.current]);\n    return {\n        getModule,\n    };\n};\nconst hooks_useNumericInputProps = (value, onChange) => {\n    const valueAsString = value.toString();\n    const [externalValue, setExternalValue] = (0,react.useState)(valueAsString);\n    const [internalValue, setInternalValue] = (0,react.useState)(externalValue);\n    (0,react.useEffect)(() => {\n        if (valueAsString !== externalValue) {\n            setExternalValue(valueAsString);\n            setInternalValue(valueAsString);\n        }\n    });\n    const handleBlur = (e) => {\n        const v = parseInt(internalValue, 10) || 0;\n        setExternalValue(v.toString());\n        onChange(v);\n    };\n    const handleChange = (e) => {\n        setInternalValue(e.target.value.replace(/[^0-9]/, \"\"));\n    };\n    return {\n        value: internalValue,\n        onChange: handleChange,\n        onBlur: handleBlur,\n    };\n};\nconst useRoleButtonListeners = (onClick) => {\n    const handleClick = (e) => {\n        e.preventDefault();\n        onClick();\n    };\n    const handleKeyDown = (e) => {\n        if (e.key !== \" \" && e.key !== \"Enter\") {\n            return;\n        }\n        e.preventDefault();\n        onClick();\n    };\n    return {\n        onClick: handleClick,\n        onKeyDown: handleKeyDown,\n    };\n};\nconst useUnloadCheck = (isDirty) => {\n    const str = hooks_useString(\"changesmadereallygoaway\", \"core\");\n    (0,react.useEffect)(() => {\n        const fn = (e) => {\n            if (!isDirty || isBehatRunning()) {\n                return;\n            }\n            e.preventDefault();\n            e.returnValue = str;\n            return str;\n        };\n        window.addEventListener(\"beforeunload\", fn);\n        return () => {\n            window.removeEventListener(\"beforeunload\", fn);\n        };\n    });\n};\nconst useUniqueId = () => {\n    const [id] = useState(getUniqueId());\n    return id;\n};\nconst hooks_useString = (id, component = \"block_xp\", a) => {\n    const wasKnownAtMount = (0,react.useMemo)(() => hasString(id, component), [id, component]);\n    const [isLoaded, setLoaded] = (0,react.useState)(false);\n    // When the string changes, remove the promise.\n    (0,react.useEffect)(() => {\n        setLoaded(false);\n    }, [id, component]);\n    // Load the string when it is unknown.\n    (0,react.useEffect)(() => {\n        if (wasKnownAtMount || isLoaded) {\n            return;\n        }\n        let cancelled = false;\n        (async () => {\n            try {\n                await loadString(id, component);\n                if (!cancelled) {\n                    setLoaded(true);\n                }\n            }\n            catch (err) { }\n        })();\n        return () => {\n            cancelled = true;\n        };\n    });\n    return hasString(id, component) ? getString(id, component, a) : \"​\";\n};\nconst useStrings = (ids, component = \"block_xp\") => {\n    const idsForKey = ids.join(\",\");\n    const allKnownAtMount = (0,react.useMemo)(() => ids.every((id) => hasString(id, component)), [idsForKey, component]);\n    const [isLoaded, setLoaded] = (0,react.useState)(false);\n    // When the string changes, remove the promise.\n    (0,react.useEffect)(() => {\n        setLoaded(false);\n    }, [idsForKey, component]);\n    // Load the string when it is unknown.\n    (0,react.useEffect)(() => {\n        if (allKnownAtMount || isLoaded) {\n            return;\n        }\n        let cancelled = false;\n        (async () => {\n            try {\n                await loadStrings(ids, component);\n                if (!cancelled) {\n                    setLoaded(true);\n                }\n            }\n            catch (err) { }\n        })();\n        return () => {\n            cancelled = true;\n        };\n    });\n    return (id, a) => (hasString(id, component) ? getString(id, component, a) : \"​\");\n};\n\n;// CONCATENATED MODULE: ./ui/src/components/Addon.tsx\n\n\n\nconst IfAddonActivatedOrPromoEnabled = ({ children }) => {\n    const { activated, enablepromo } = (0,react.useContext)(AddonContext);\n    if (!activated && !enablepromo) {\n        return null;\n    }\n    return react.createElement(react.Fragment, null, children);\n};\nconst AddonRequired = () => {\n    const { promourl } = (0,react.useContext)(AddonContext);\n    const getStr = useStrings([\"xpplusrequired\", \"unlockfeaturewithxpplus\"]);\n    const handleClick = (e) => e.preventDefault();\n    return (react.createElement(\"a\", { href: \"#\", role: \"button\", onClick: handleClick, \"data-toggle\": \"popover\", \"data-placement\": \"top\", \"data-container\": \"body\", \"data-content\": getStr(\"unlockfeaturewithxpplus\", promourl), \"data-html\": \"true\", className: \"xp-py-1 xp-px-1.5 xp-normal-case xp-text-2xs xp-inline-block xp-bg-black xp-text-white xp-rounded xp-no-underline\" }, getStr(\"xpplusrequired\")));\n};\n\n;// CONCATENATED MODULE: ./ui/src/components/Modal.tsx\n\n\n\nconst SaveCancelModal = ({ children, onClose, onSave, show, title, saveButtonText, defaultHeight, large, canSave = true }) => {\n    const modalPromise = (0,react.useRef)();\n    const modalRef = (0,react.useRef)();\n    // In rare instances, we can get double save events. This can happen when we hit enter,\n    // and a new event listener is registered while Moodle is still broadcasting its events\n    // which is then called, and so we get two events. This wouldn't happen if the modal was\n    // not re-rendering, I think.\n    const isSavePermitted = hooks_useDuplicatedActionPreventor();\n    const { getModule } = hooks_useModules([\"core/modal_factory\", \"core/modal_events\"]);\n    const [ready, setReady] = (0,react.useState)(false);\n    const getSaveButton = (0,react.useCallback)(() => {\n        if (!modalRef.current)\n            return null;\n        const node = modalRef.current.getFooter()[0].querySelector('[data-action=\"save\"]');\n        return node ?? null;\n    }, [modalRef.current]);\n    const setSaveButtonText = (text) => {\n        const saveBtn = getSaveButton();\n        if (!saveBtn || !text)\n            return;\n        saveBtn.textContent = text;\n    };\n    const setButtonAttribute = (attr, value) => {\n        const saveBtn = getSaveButton();\n        if (!saveBtn || !attr)\n            return;\n        if (value === null || typeof value === \"undefined\" || value === false) {\n            saveBtn.removeAttribute(attr);\n        }\n        else {\n            saveBtn.setAttribute(attr, value);\n        }\n    };\n    // Create the modal object.\n    (0,react.useEffect)(() => {\n        let cancelled = false;\n        if (modalRef.current)\n            return;\n        const ModalFactory = getModule(\"core/modal_factory\");\n        if (!ModalFactory)\n            return;\n        if (!modalPromise.current) {\n            modalPromise.current = ModalFactory.create({\n                type: ModalFactory.types.SAVE_CANCEL,\n                title: title,\n                large: large,\n                body: `<div class='block_xp' style='${defaultHeight ? `height: ${defaultHeight}px` : \"\"}'></div>`,\n            });\n        }\n        modalPromise.current.then((modal) => {\n            if (cancelled)\n                return;\n            modalRef.current = modal;\n            if (saveButtonText) {\n                setSaveButtonText(saveButtonText);\n            }\n            setReady(true); // State update to force re-render.\n            if (show) {\n                modal.show();\n            }\n        });\n        return () => {\n            cancelled = true;\n        };\n    });\n    // Attach event listeners.\n    (0,react.useEffect)(() => {\n        const modal = modalRef.current;\n        if (!modal)\n            return;\n        const ModalEvents = getModule(\"core/modal_events\");\n        if (!ModalEvents)\n            return;\n        const root = modal.getRoot();\n        const handleSave = (e) => {\n            if (!isSavePermitted())\n                return;\n            onSave && onSave(e);\n        };\n        const handleClose = () => {\n            onClose && onClose();\n        };\n        // Keep the React node height in sync with the modal body to avoid for the modal\n        // to become scrollable. This is required because our current modal content is\n        // absolute and thus requires a hardcoded height.\n        const updateReactNodeHeight = () => {\n            const body = modal.getBody()[0];\n            const reactNode = body ? body.querySelector(\".block_xp\") : null;\n            if (!body || !reactNode) {\n                return;\n            }\n            const height = body.clientHeight - (parseFloat(getComputedStyle(body).paddingTop) + parseFloat(getComputedStyle(body).paddingBottom));\n            reactNode.style.height = `${height}px`;\n        };\n        const attachResize = () => {\n            window.addEventListener(\"resize\", updateReactNodeHeight);\n        };\n        root.on(ModalEvents.save, handleSave);\n        root.on(ModalEvents.hidden, handleClose);\n        root.on(ModalEvents.shown, attachResize);\n        return () => {\n            root.off(ModalEvents.save, handleSave);\n            root.off(ModalEvents.hidden, handleClose);\n            root.off(ModalEvents.shown, attachResize);\n            window.removeEventListener(\"resize\", updateReactNodeHeight);\n        };\n    });\n    // Update visibility.\n    (0,react.useEffect)(() => {\n        if (!modalRef.current)\n            return;\n        if (show) {\n            modalRef.current.show();\n        }\n        else {\n            modalRef.current.hide();\n        }\n    }, [show, modalRef.current]);\n    // Update title.\n    (0,react.useEffect)(() => {\n        if (!modalRef.current || !title)\n            return;\n        modalRef.current.setTitle(title);\n    }, [title, modalRef.current]);\n    // Update save button text.\n    (0,react.useEffect)(() => {\n        setSaveButtonText(saveButtonText);\n    }, [saveButtonText, modalRef.current]);\n    // Update the save button status.\n    (0,react.useEffect)(() => {\n        setButtonAttribute(\"disabled\", !canSave);\n    }, [canSave, modalRef.current]);\n    return modalRef.current ? react_dom.createPortal(children, modalRef.current.getBody()[0].querySelector(\".block_xp\")) : null;\n};\nconst DeleteModal = ({ children, onClose, onDelete, show, title }) => {\n    const modalPromise = useRef();\n    const modalRef = useRef();\n    const [ready, setReady] = useState(false);\n    const isDeletePermitted = useDuplicatedActionPreventor();\n    const deleteStr = useString(\"delete\", \"core\");\n    const { getModule } = useModules([\"core/modal_factory\", \"core/modal_events\"]);\n    const getDeleteButton = useCallback(() => {\n        if (!modalRef.current)\n            return null;\n        const node = modalRef.current.getFooter()[0].querySelector('[data-action=\"save\"]');\n        return node ?? null;\n    }, [modalRef.current]);\n    // Create the modal object.\n    useEffect(() => {\n        let cancelled = false;\n        if (modalRef.current)\n            return;\n        const ModalFactory = getModule(\"core/modal_factory\");\n        if (!ModalFactory)\n            return;\n        if (!modalPromise.current) {\n            modalPromise.current = ModalFactory.create({\n                type: ModalFactory.types.SAVE_CANCEL, // We use save_cancel as delete_cancel is only in 4.2.\n                title: title,\n                body: `<div class='block_xp'></div>`,\n            });\n        }\n        modalPromise.current.then((modal) => {\n            if (cancelled)\n                return;\n            modalRef.current = modal;\n            const deleteButton = getDeleteButton();\n            if (deleteButton) {\n                if (deleteStr) {\n                    deleteButton.textContent = deleteStr;\n                }\n                deleteButton.classList.add(\"btn-danger\");\n            }\n            setReady(true); // State update to force re-render.\n            if (show) {\n                modal.show();\n            }\n        });\n        return () => {\n            cancelled = true;\n        };\n    });\n    // Attach event listeners.\n    useEffect(() => {\n        const modal = modalRef.current;\n        if (!modal)\n            return;\n        const ModalEvents = getModule(\"core/modal_events\");\n        if (!ModalEvents)\n            return;\n        const root = modal.getRoot();\n        const handleSave = (e) => {\n            if (!isDeletePermitted())\n                return;\n            onDelete && onDelete(e);\n        };\n        const handleClose = () => {\n            onClose && onClose();\n        };\n        root.on(ModalEvents.save, handleSave);\n        root.on(ModalEvents.hidden, handleClose);\n        return () => {\n            root.off(ModalEvents.save, handleSave);\n            root.off(ModalEvents.hidden, handleClose);\n        };\n    });\n    // Update visibility.\n    useEffect(() => {\n        if (!modalRef.current)\n            return;\n        if (show) {\n            modalRef.current.show();\n        }\n        else {\n            modalRef.current.hide();\n        }\n    }, [show, modalRef.current]);\n    // Update title.\n    useEffect(() => {\n        if (!modalRef.current || !title)\n            return;\n        modalRef.current.setTitle(title);\n    }, [title, modalRef.current]);\n    // Update button.\n    useEffect(() => {\n        if (!modalRef.current || !deleteStr)\n            return;\n        const btn = getDeleteButton();\n        if (!btn)\n            return;\n        btn.textContent = deleteStr;\n    }, [deleteStr, modalRef.current]);\n    return modalRef.current ? ReactDOM.createPortal(children, modalRef.current.getBody()[0].querySelector(\".block_xp\")) : null;\n};\nconst ModalForm = ({ formClass, formArgs, onClose, onSubmit, title }) => {\n    const modalFormRef = useRef();\n    const { getModule } = useModules([\"core_form/modalform\", \"core/modal_factory\", \"core/modal_events\"]);\n    // Create the modal form.\n    useEffect(() => {\n        if (modalFormRef.current)\n            return;\n        const ModalForm = getModule(\"core_form/modalform\");\n        if (!ModalForm)\n            return;\n        modalFormRef.current = new ModalForm({\n            formClass: formClass,\n            args: formArgs ?? {},\n            modalConfig: {\n                title,\n            },\n        });\n        modalFormRef.current.show();\n    });\n    // Attach event listeners.\n    useEffect(() => {\n        const modalForm = modalFormRef.current;\n        if (!modalForm)\n            return;\n        const ModalForm = getModule(\"core_form/modalform\");\n        const ModalEvents = getModule(\"core/modal_events\");\n        if (!ModalForm || !ModalEvents)\n            return;\n        const handleLoaded = () => {\n            const root = modalForm.modal.getRoot();\n            root[0].classList.add(\"block_xp\");\n            // Register the onClose event.\n            root.on(ModalEvents.hidden, handleClose);\n        };\n        const handleSubmit = () => {\n            onSubmit && onSubmit();\n        };\n        const handleClose = () => {\n            onClose && onClose();\n        };\n        modalForm.addEventListener(modalForm.events.LOADED, handleLoaded);\n        modalForm.addEventListener(modalForm.events.FORM_SUBMITTED, handleSubmit);\n        modalForm.addEventListener(modalForm.events.CANCEL_BUTTON_PRESSED, handleClose);\n        return () => {\n            const modalForm = modalFormRef.current;\n            const root = modalForm?.modal?.getRoot();\n            const rootEl = root?.[0];\n            rootEl?.removeEventListener(modalForm.events.LOADED, handleLoaded);\n            rootEl?.removeEventListener(modalForm.events.FORM_SUBMITTED, handleSubmit);\n            rootEl?.removeEventListener(modalForm.events.CANCEL_BUTTON_PRESSED, handleClose);\n            root.off(ModalEvents.hidden, handleClose);\n        };\n    });\n    useEffect(() => {\n        if (!modalFormRef.current)\n            return;\n        const modal = modalFormRef.current.modal;\n        if (!modal)\n            return;\n        modal.setTitle(title);\n    }, [title]);\n    return null;\n};\n\n;// CONCATENATED MODULE: ./ui/src/components/Str.tsx\n\n\nconst Str = ({ id, component = \"block_xp\", a }) => {\n    const str = hooks_useString(id, component, a);\n    return react.createElement(react.Fragment, null, str || \"​\");\n};\n/* harmony default export */ const components_Str = (Str);\n\n;// CONCATENATED MODULE: ./ui/src/components/Input.tsx\n\nconst Input = ({ className = '', ...props }) => {\n    /** Apply those classes for normalised styling across themes and versions. */\n    return react.createElement(\"input\", { ...props, className: `xp-m-0 form-control ${className}` });\n};\nconst Select = ({ className = '', ...props }) => {\n    /** Apply those classes for normalised styling across themes and versions. */\n    return react.createElement(\"select\", { ...props, className: `xp-m-0 xp-max-w-auto form-control ${className}` });\n};\nconst Textarea = ({ className = '', ...props }) => {\n    /** Apply those classes for normalised styling across themes and versions. */\n    return react.createElement(\"textarea\", { ...props, className: `xp-m-0 form-control ${className}` });\n};\n/* harmony default export */ const components_Input = (Input);\n\n;// CONCATENATED MODULE: ./ui/src/components/NumberInput.tsx\n\n\n\n\nconst NumInput = ({ className, value, onChange, selectOnFocus, ...props }) => {\n    const inputProps = hooks_useNumericInputProps(value, onChange);\n    const handleFocus = (e) => {\n        if (!selectOnFocus)\n            return;\n        e.currentTarget.select();\n    };\n    return react.createElement(components_Input, { type: \"text\", ...inputProps, className: className, onFocus: handleFocus, ...props });\n};\nconst PlainNumberInput = ({ value, onChange, selectOnFocus, ...props }) => {\n    const inputProps = useNumericInputProps(value, onChange);\n    const handleFocus = (e) => {\n        if (!selectOnFocus)\n            return;\n        e.currentTarget.select();\n    };\n    return React.createElement(\"input\", { type: \"text\", ...inputProps, onFocus: handleFocus, ...props });\n};\nconst NumberInputWithButtons = ({ onChange, value, min, max, suffix, step = 1, inputProps }) => {\n    const hasMin = typeof min !== \"undefined\";\n    const hasMax = typeof max !== \"undefined\";\n    const minDisabled = hasMin && min >= value;\n    const maxDisabled = hasMax && max <= value;\n    const minusProps = useAnchorButtonProps(() => {\n        if (minDisabled)\n            return;\n        handleChange(value - step);\n    });\n    const plusProps = useAnchorButtonProps(() => {\n        if (maxDisabled)\n            return;\n        handleChange(value + step);\n    });\n    const handleChange = (n) => {\n        let final = n;\n        if (hasMin) {\n            final = Math.max(min, final);\n        }\n        if (hasMax) {\n            final = Math.min(max, final);\n        }\n        onChange(final);\n    };\n    const { className: inputClassName, ...remainingInputProps } = inputProps ?? {};\n    const allInputProps = {\n        className: utils_classNames(\"xp-h-auto xp-border-0 xp-text-center xp-rounded-none focus:xp-z-10\", suffix ? \"xp-pr-6\" : null, inputClassName || \"xp-w-16\"),\n        ...remainingInputProps,\n    };\n    return (react.createElement(\"div\", { className: \"xp-inline-flex xp-rounded xp-border xp-border-solid xp-border-gray-300\" },\n        react.createElement(\"a\", { ...minusProps, className: utils_classNames(\"xp-flex-0 xp-border-0 xp-border-gray-300 xp-border-solid xp-border-r xp-rounded-l xp-py-0.5 xp-px-1 xp-flex xp-items-center xp-justify-center\", \"focus:xp-z-10\", minDisabled ? \"xp-bg-gray-100 xp-cursor-pointer xp-text-gray-500\" : \"xp-bg-white xp-text-inherit\") },\n            react.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 20 20\", fill: \"currentColor\", className: \"xp-w-5 xp-h-5\" },\n                react.createElement(\"path\", { fillRule: \"evenodd\", d: \"M4 10a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H4.75A.75.75 0 014 10z\", clipRule: \"evenodd\" }))),\n        react.createElement(\"div\", { className: \"xp-flex-1 xp-relative\" },\n            react.createElement(NumInput, { onChange: handleChange, value: value, ...allInputProps }),\n            suffix ? (react.createElement(\"div\", { className: \"xp-pointer-events-none xp-absolute xp-inset-y-0 xp-right-0 xp-flex xp-items-center xp-pr-2\" },\n                react.createElement(\"span\", { className: \"xp-text-gray-500\" }, suffix))) : null),\n        react.createElement(\"a\", { ...plusProps, className: utils_classNames(\"xp-flex-0 xp-border-0 xp-border-gray-300 xp-border-solid xp-border-l xp-rounded-r xp-py-0.5 xp-px-1 xp-flex xp-items-center xp-justify-center\", \"focus:xp-z-10\", maxDisabled ? \"xp-bg-gray-100 xp-cursor-pointer xp-text-gray-500\" : \"xp-bg-white xp-text-inherit\") },\n            react.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 20 20\", fill: \"currentColor\", className: \"xp-w-5 xp-h-5\" },\n                react.createElement(\"path\", { d: \"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z\" })))));\n};\n\n;// CONCATENATED MODULE: ./ui/src/components/RadioGroup.tsx\n\nconst RadioGroup = ({ items, value, onChange }) => {\n    const [uniqid] = (0,react.useState)(() => Math.random().toString(12).slice(2));\n    return (react.createElement(\"div\", { className: \"xp-space-y-2\" }, items.map((item, idx) => (react.createElement(\"label\", { className: \"xp-relative xp-flex xp-items-start xp-cursor-pointer xp-m-0 xp-font-normal\", key: item.value },\n        react.createElement(\"div\", { className: \"xp-h-6 xp-flex xp-items-center\" },\n            react.createElement(\"input\", { type: \"radio\", \"aria-describedby\": `xp-radiogroup-${uniqid}-${idx}`, checked: value === item.value, onChange: () => onChange(item.value) })),\n        react.createElement(\"div\", { className: \"xp-ml-3\" },\n            react.createElement(\"div\", { className: \"xp-font-medium\" }, item.label),\n            item.desc ? (react.createElement(\"p\", { id: `xp-radiogroup-${uniqid}-${idx}`, className: \"xp-text-gray-500 xp-m-0\" }, item.desc)) : null))))));\n};\n\n;// CONCATENATED MODULE: ./ui/src/lib/constants.ts\nconst HELP_URL_LEVELS = \"https://docs.levelup.plus/xp/docs/levels\";\n\n;// CONCATENATED MODULE: ./ui/src/components/BulkEditPoints.tsx\n\n\n\n\n\n\n\nfunction calculationMethodReducer(state, action) {\n    switch (action.type) {\n        case \"setMethod\":\n            return { ...state, method: action.payload };\n        case \"setBase\":\n            return { ...state, base: Math.max(1, action.payload) };\n        case \"setIncrement\":\n            return { ...state, incr: Math.max(0, action.payload) };\n        case \"setCoef\":\n            return { ...state, coef: Math.min(5, Math.max(1, action.payload)) };\n    }\n    return state;\n}\nfunction getDefaultBulkEditPointsState(props) {\n    return {\n        method: props.method || \"relative\",\n        base: Math.max(1, props.base || 120),\n        incr: Math.max(0, props.incr || 40),\n        coef: Math.min(5, Math.max(props.coef || 1.3)),\n    };\n}\nconst BulkEditPoints = ({ method, base, incr, coef, onBaseChange, onCoefChange, onIncrementChange, onMethodChange }) => {\n    const getStr = useStrings([\n        \"basepoints\",\n        \"basepointslineardesc\",\n        \"basepointsrelativedesc\",\n        \"difficulty\",\n        \"difficultyflat\",\n        \"difficultyflatdesc\",\n        \"difficultylinear\",\n        \"difficultylineardesc\",\n        \"difficultylinearincrdesc\",\n        \"difficultypointincrease\",\n        \"difficultyrelative\",\n        \"difficultyrelativedesc\",\n        \"difficultyrelativeincrdesc\",\n        \"documentation\",\n        \"pointsperlevel\",\n        \"recommended\",\n    ], \"block_xp\");\n    return (react.createElement(\"div\", { className: \"xp-space-y-4\" },\n        react.createElement(\"div\", null,\n            react.createElement(\"div\", { className: \"xp-mb-2 xp-flex xp-items-start xp-flex-wrap\" },\n                react.createElement(\"div\", { className: \"xp-grow xp-font-bold\" }, getStr(\"difficulty\")),\n                react.createElement(\"div\", { className: \"xp-shrink-0\" },\n                    react.createElement(\"a\", { href: HELP_URL_LEVELS, target: \"_blank\", rel: \"noopener\" }, getStr(\"documentation\")))),\n            react.createElement(RadioGroup, { onChange: onMethodChange, value: method, items: [\n                    { value: \"flat\", label: getStr(\"difficultyflat\"), desc: getStr(\"difficultyflatdesc\") },\n                    {\n                        value: \"linear\",\n                        label: getStr(\"difficultylinear\"),\n                        desc: getStr(\"difficultylineardesc\"),\n                    },\n                    {\n                        value: \"relative\",\n                        label: (react.createElement(react.Fragment, null,\n                            getStr(\"difficultyrelative\"),\n                            react.createElement(\"div\", { className: \"badge badge-info xp-ml-2\" }, getStr(\"recommended\")))),\n                        desc: getStr(\"difficultyrelativedesc\"),\n                    },\n                ] })),\n        react.createElement(\"div\", null,\n            react.createElement(\"p\", { className: \"xp-font-bold xp-mb-2\" },\n                react.createElement(components_Str, { id: \"settings\", component: \"core\" })),\n            method === \"flat\" ? (react.createElement(react.Fragment, null,\n                react.createElement(\"div\", { className: \"\" },\n                    react.createElement(\"label\", { htmlFor: \"xp-calc-bp\", className: \"xp-m-0\" },\n                        react.createElement(components_Str, { id: \"pointsperlevel\" })),\n                    react.createElement(\"div\", null,\n                        react.createElement(NumberInputWithButtons, { value: base, onChange: onBaseChange, min: 1, step: 10, inputProps: { id: \"xp-calc-bp\", className: \"xp-w-24\" } }))))) : null,\n            method === \"linear\" ? (react.createElement(react.Fragment, null,\n                react.createElement(\"div\", { className: \"xp-space-y-2\" },\n                    react.createElement(\"div\", { className: \"\" },\n                        react.createElement(\"label\", { htmlFor: \"xp-calc-bp\", className: \"xp-m-0\" },\n                            react.createElement(components_Str, { id: \"basepoints\" })),\n                        react.createElement(\"div\", null,\n                            react.createElement(NumberInputWithButtons, { value: base, onChange: onBaseChange, min: 1, step: 10, inputProps: { id: \"xp-calc-bp\", className: \"xp-w-24\" } })),\n                        react.createElement(\"p\", { className: \"xp-text-gray-500 xp-m-0 xp-mt-1\" }, getStr(\"basepointslineardesc\"))),\n                    react.createElement(\"div\", { className: \"\" },\n                        react.createElement(\"label\", { htmlFor: \"xp-calc-pi\", className: \"xp-m-0\" }, getStr(\"difficultypointincrease\")),\n                        react.createElement(\"div\", null,\n                            react.createElement(NumberInputWithButtons, { value: incr, onChange: onIncrementChange, min: 0, inputProps: { id: \"xp-calc-pi\", className: \"xp-w-24\" } })),\n                        react.createElement(\"p\", { className: \"xp-text-gray-500 xp-m-0 xp-mt-1\" }, getStr(\"difficultylinearincrdesc\")))))) : null,\n            method === \"relative\" ? (react.createElement(react.Fragment, null,\n                react.createElement(\"div\", { className: \"xp-space-y-2\" },\n                    react.createElement(\"div\", { className: \"\" },\n                        react.createElement(\"label\", { htmlFor: \"xp-calc-bp\", className: \"xp-m-0\" },\n                            react.createElement(components_Str, { id: \"basepoints\" })),\n                        react.createElement(\"div\", null,\n                            react.createElement(NumberInputWithButtons, { value: base, onChange: onBaseChange, min: 1, step: 10, inputProps: { id: \"xp-calc-bp\", className: \"xp-w-24\" } })),\n                        react.createElement(\"p\", { className: \"xp-text-gray-500 xp-m-0 xp-mt-1\" }, getStr(\"basepointsrelativedesc\"))),\n                    react.createElement(\"div\", { className: \"\" },\n                        react.createElement(\"label\", { htmlFor: \"xp-calc-pi\", className: \"xp-m-0\" }, getStr(\"difficultypointincrease\")),\n                        react.createElement(\"div\", null,\n                            react.createElement(NumberInputWithButtons, { value: Math.floor(coef * 100 - 100), onChange: (p) => onCoefChange(1 + p / 100), min: 0, max: 400, inputProps: { id: \"xp-calc-pi\", className: \"xp-w-24\", maxLength: 3 }, suffix: \"%\" })),\n                        react.createElement(\"p\", { className: \"xp-text-gray-500 xp-m-0 xp-mt-1\" }, getStr(\"difficultyrelativeincrdesc\")))))) : null)));\n};\nconst BulkEditPointsModal = (props) => {\n    const [state, dispatch] = (0,react.useReducer)(calculationMethodReducer, props, getDefaultBulkEditPointsState);\n    const getStr = useStrings([\"quickeditpoints\", \"apply\"], \"block_xp\");\n    const setMethod = (p) => dispatch({ type: \"setMethod\", payload: p });\n    const setIncrement = (p) => dispatch({ type: \"setIncrement\", payload: p });\n    const setBase = (p) => dispatch({ type: \"setBase\", payload: p });\n    const setCoef = (p) => dispatch({ type: \"setCoef\", payload: p });\n    const handleClose = () => {\n        dispatch({ type: \"reset\", payload: getDefaultBulkEditPointsState(props) });\n        props.onClose && props.onClose();\n    };\n    const handleSave = () => {\n        props.onSave && props.onSave(state);\n    };\n    return (react.createElement(SaveCancelModal, { show: props.show, onClose: handleClose, onSave: handleSave, title: getStr(\"quickeditpoints\"), saveButtonText: getStr(\"apply\") },\n        react.createElement(BulkEditPoints, { coef: state.coef, base: state.base, incr: state.incr, method: state.method, onBaseChange: setBase, onCoefChange: setCoef, onIncrementChange: setIncrement, onMethodChange: setMethod })));\n};\n\n;// CONCATENATED MODULE: ./ui/src/components/Pix.tsx\n\n\nconst Pix = ({ id, component = 'block_xp', className, alt = '' }) => {\n    return react.createElement(\"img\", { src: imageUrl(id, component), alt: alt, className: className });\n};\n/* harmony default export */ const components_Pix = (Pix);\n\n;// CONCATENATED MODULE: ./ui/src/components/Spinner.tsx\n\n\n\nconst Spinner = ({ className }) => {\n    const alt = hooks_useString('loadinghelp', 'core');\n    return react.createElement(components_Pix, { id: \"y/loading\", component: \"core\", className: className, alt: alt });\n};\n/* harmony default export */ const components_Spinner = (Spinner);\n\n;// CONCATENATED MODULE: ./ui/src/components/Button.tsx\n\n\n\n\n\n\nconst CircleButton = ({ className, ...props }) => {\n    return (React.createElement(\"button\", { className: classNames(\"xp-bg-transparent xp-border-0 xp-p-2 xp-flex xp-items-center xp-rounded-full hover:xp-bg-gray-100\", className), type: \"button\", ...props }));\n};\nconst Button = ({ onClick, disabled, children, primary, className, type = \"button\" }) => {\n    const classes = utils_classNames(\"btn\", primary ? \"btn-primary\" : \"btn-default btn-secondary\", className);\n    return (react.createElement(\"button\", { className: classes, onClick: onClick, disabled: disabled, type: type }, children));\n};\nconst SaveButton = ({ onClick, disabled, label, mutation = {}, statePosition = \"after\" }) => {\n    const getStr = useStrings([\"changessaved\", \"error\"], \"core\");\n    const { isLoading, isSuccess, isError } = mutation;\n    const isStateBefore = statePosition === \"before\";\n    const state = (react.createElement(\"div\", { className: `xp-w-8 xp-flex ${isStateBefore ? \"xp-mr-4 xp-justify-end\" : \"xp-ml-4\"}`, \"aria-live\": \"assertive\" },\n        isLoading ? react.createElement(components_Spinner, null) : null,\n        isSuccess ? react.createElement(components_Pix, { id: \"i/valid\", component: \"core\", alt: getStr(\"changessaved\") }) : null,\n        isError ? react.createElement(components_Pix, { id: \"i/invalid\", component: \"core\", alt: getStr(\"error\") }) : null));\n    return (react.createElement(\"div\", { className: \"xp-flex xp-items-center\" },\n        isStateBefore ? state : null,\n        react.createElement(\"div\", { className: \"\" },\n            react.createElement(Button, { primary: true, onClick: onClick, disabled: disabled || isLoading }, label || react.createElement(components_Str, { id: \"savechanges\", component: \"core\" }))),\n        !isStateBefore ? state : null));\n};\nconst AnchorButton = ({ children, onClick, className, ...props }) => {\n    const anchorButtonProps = useAnchorButtonProps(onClick);\n    return (react.createElement(\"a\", { className: utils_classNames(\"xp-text-inherit xp-no-underline\", className), ...props, ...anchorButtonProps }, children));\n};\n\n// EXTERNAL MODULE: ./node_modules/react-animate-height/dist/esm/index.js\nvar esm = __webpack_require__(968);\n;// CONCATENATED MODULE: ./ui/src/components/Expandable.tsx\n\n\nfunction Expandable({ expanded, children, id }) {\n    return (react.createElement(esm/* default */.A, { id: id, height: expanded ? \"auto\" : 0, applyInlineTransitions: false, animationStateClasses: {\n            animating: \"xp-transition-height xp-duration-500\",\n            static: \"xp-transition-height xp-duration-500\",\n            animatingUp: \"\",\n            animatingDown: \"\",\n            animatingToHeightZero: \"\",\n            animatingToHeightAuto: \"\",\n            animatingToHeightSpecific: \"\",\n            staticHeightZero: \"\",\n            staticHeightAuto: \"\",\n            staticHeightSpecific: \"\",\n        } }, children));\n}\n\n;// CONCATENATED MODULE: ./ui/src/components/Icons.tsx\n\nconst Bars3BottomLeftIcon = ({ className }) => (react.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", fill: \"currentColor\", className: className },\n    react.createElement(\"path\", { fillRule: \"evenodd\", d: \"M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75H12a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z\", clipRule: \"evenodd\" })));\nconst CheckBadgeIconSolid = ({ className }) => (react.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", fill: \"currentColor\", className: className },\n    react.createElement(\"path\", { fillRule: \"evenodd\", d: \"M8.603 3.799A4.49 4.49 0 0112 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 013.498 1.307 4.491 4.491 0 011.307 3.497A4.49 4.49 0 0121.75 12a4.49 4.49 0 01-1.549 3.397 4.491 4.491 0 01-1.307 3.497 4.491 4.491 0 01-3.497 1.307A4.49 4.49 0 0112 21.75a4.49 4.49 0 01-3.397-1.549 4.49 4.49 0 01-3.498-1.306 4.491 4.491 0 01-1.307-3.498A4.49 4.49 0 012.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 011.307-3.497 4.49 4.49 0 013.497-1.307zm7.007 6.387a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z\", clipRule: \"evenodd\" })));\nconst LanguageIcon = ({ className }) => (react.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", fill: \"currentColor\", className: className },\n    react.createElement(\"path\", { fillRule: \"evenodd\", d: \"M9 2.25a.75.75 0 01.75.75v1.506a49.38 49.38 0 015.343.371.75.75 0 11-.186 1.489c-.66-.083-1.323-.151-1.99-.206a18.67 18.67 0 01-2.969 6.323c.317.384.65.753.998 1.107a.75.75 0 11-1.07 1.052A18.902 18.902 0 019 13.687a18.823 18.823 0 01-5.656 4.482.75.75 0 11-.688-1.333 17.323 17.323 0 005.396-4.353A18.72 18.72 0 015.89 8.598a.75.75 0 011.388-.568A17.21 17.21 0 009 11.224a17.17 17.17 0 002.391-5.165 48.038 48.038 0 00-8.298.307.75.75 0 01-.186-1.489 49.159 49.159 0 015.343-.371V3A.75.75 0 019 2.25zM15.75 9a.75.75 0 01.68.433l5.25 11.25a.75.75 0 01-1.36.634l-1.198-2.567h-6.744l-1.198 2.567a.75.75 0 01-1.36-.634l5.25-11.25A.75.75 0 0115.75 9zm-2.672 8.25h5.344l-2.672-5.726-2.672 5.726z\", clipRule: \"evenodd\" })));\nconst PaperAirplaneIconSolid = ({ className }) => (react.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", fill: \"currentColor\", className: className },\n    react.createElement(\"path\", { d: \"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z\" })));\nconst ChevronLeftIconSolid = ({ className }) => (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", fill: \"none\", viewBox: \"0 0 24 24\", strokeWidth: 1.5, stroke: \"currentColor\", className: className },\n    React.createElement(\"path\", { strokeLinecap: \"round\", strokeLinejoin: \"round\", d: \"M15.75 19.5 8.25 12l7.5-7.5\" })));\n\n;// CONCATENATED MODULE: ./ui/src/components/Level.tsx\n\n\n\n\nconst getLevelHtml = (level, small, medium) => {\n    const label = getString(\"levelx\", \"block_xp\", level.level);\n    const classes = `block_xp-level level-${level.level} ${small ? \"small\" : medium ? \"medium\" : \"\"}`;\n    if (level.badgeurl) {\n        return `\n      <div class=\"${classes + \" level-badge\"}\" aria-label=\"${escapeHtml(label)}\">\n        <img src=\"${escapeHtml(level.badgeurl)}\" alt=\"${escapeHtml(label)}\" />\n      </div>\n    `;\n    }\n    return `\n    <div class=\"${classes}\" aria-label=\"${escapeHtml(label)}\">\n      ${level.level}\n    </div>\n  `;\n};\nconst Level = (0,react.forwardRef)(({ level, small, medium }, ref) => {\n    const label = hooks_useString(\"levelx\", \"block_xp\", level.level);\n    const classes = \"block_xp-level level-\" + level.level + (small ? \" small\" : medium ? \" medium\" : \"\");\n    if (level.badgeurl) {\n        return (react.createElement(\"div\", { className: classes + \" level-badge\", \"aria-label\": label, ref: ref },\n            react.createElement(\"img\", { src: level.badgeurl, alt: label })));\n    }\n    return (react.createElement(\"div\", { className: classes, \"aria-label\": label, ref: ref }, level.level));\n});\n/* harmony default export */ const components_Level = (Level);\n\n;// CONCATENATED MODULE: ./ui/src/components/Tooltip.tsx\n\n\nconst Tooltip = ({ children, content }) => {\n    const ref = react.useRef(null);\n    (0,react.useEffect)(() => {\n        const $ = getModule(\"jquery\");\n        if (!$ || !ref.current || !$(ref.current).tooltip) {\n            return;\n        }\n        ref.current.setAttribute(\"data-container\", \"body\");\n        ref.current.setAttribute(\"title\", content);\n        $(ref.current).tooltip(\"enable\");\n        return () => {\n            // There is extra caution here, double checking whether the reference still exists,\n            // and is still bound to the tooltip function, and that the tooltip function does\n            // not throw an exception. This is to mitigate themes that redeclare Bootstrap and\n            // end-up causing troubles.\n            if (!ref.current || !$(ref.current).tooltip) {\n                return;\n            }\n            try {\n                $(ref.current).tooltip(\"dispose\");\n            }\n            catch (e) {\n                try {\n                    $(ref.current).tooltip(\"destroy\");\n                }\n                catch (e) { }\n            }\n        };\n    }, [content]);\n    return (0,react.cloneElement)(children, { ref });\n};\n\n;// CONCATENATED MODULE: ./ui/src/lib/levels.ts\nfunction computeRequiredPoints(level, base, coef) {\n    if (level <= 1) {\n        return 0;\n    }\n    else if (level == 2) {\n        return base;\n    }\n    if (coef <= 1) {\n        return base * (level - 1);\n    }\n    return Math.round(base * ((1 - Math.pow(coef, level - 1)) / (1 - coef)));\n}\nfunction computeRequiredPointsWithMethod(level, method) {\n    if (level <= 1) {\n        return 0;\n    }\n    else if (level === 2) {\n        return method.base;\n    }\n    if (method.method === \"relative\") {\n        // Refer to the original method that was algorithmic.\n        return computeRequiredPoints(level, method.base, method.coef);\n    }\n    else if (method.method === \"linear\") {\n        // Each level is worth the base + increment (starting at level 3);\n        // Level 1: 0; level 2: 100; Level 3: 210 (100 + (100 + 10)); Level 4: 330 (100 + (100 + 10) + (100 + 10 + 10));\n        return (method.base * (level - 1) +\n            Array.from({ length: level }).reduce((carry, _, idx) => carry + Math.max(0, idx - 1) * method.incr, 0));\n    }\n    // Flat method.\n    return (level - 1) * method.base;\n}\nconst getLevel = (levels, level) => {\n    return levels[Math.max(0, level - 1)];\n};\nconst getMinimumPointsForLevel = (levels, level) => {\n    if (level.level === 1 || !levels.length) {\n        return 0;\n    }\n    return getPreviousLevel(levels, level).xprequired + 1;\n};\nconst getMinimumPointsAtLevel = (levels, level) => {\n    const l = getLevel(levels, level - 1);\n    return l ? l.xprequired + 1 : 0;\n};\nconst getNextLevel = (levels, level, highest = 9999) => {\n    let index = Math.min(highest, Math.max(levels.indexOf(level) + 1, 0));\n    return levels[index];\n};\nconst getPreviousLevel = (levels, level) => {\n    return levels[Math.max(levels.indexOf(level) - 1, 0)];\n};\n\n// EXTERNAL MODULE: ./node_modules/react-query/es/core/queryClient.js + 4 modules\nvar queryClient = __webpack_require__(98);\n;// CONCATENATED MODULE: ./ui/src/lib/query.ts\n\n\nconst query_queryClient = new queryClient/* QueryClient */.E({\n    defaultOptions: {\n        queries: {\n            staleTime: 1000 * 60,\n            onError: (err) => getModule(\"core/notification\").exception(err),\n        },\n        mutations: {\n            onError: (err) => getModule(\"core/notification\").exception(err),\n        },\n    },\n});\n\n;// CONCATENATED MODULE: ./ui/src/levels.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar BADGE_TYPE;\n(function (BADGE_TYPE) {\n    BADGE_TYPE[BADGE_TYPE[\"Site\"] = 1] = \"Site\";\n    BADGE_TYPE[BADGE_TYPE[\"Course\"] = 2] = \"Course\";\n})(BADGE_TYPE || (BADGE_TYPE = {}));\nconst optionsStates = [\n    {\n        id: \"name\",\n        Icon: LanguageIcon,\n        yes: \"hasname\",\n        no: \"hasnoname\",\n        checker: (level) => level.name && level.name.trim().length > 0,\n    },\n    {\n        id: \"description\",\n        Icon: Bars3BottomLeftIcon,\n        yes: \"hasdescription\",\n        no: \"hasnodescription\",\n        checker: (level) => level.description && level.description.trim().length > 0,\n    },\n    {\n        id: \"popupmessage\",\n        Icon: PaperAirplaneIconSolid,\n        yes: \"haspopupmessage\",\n        no: \"hasnopopupmessage\",\n        checker: (level) => level.popupmessage && level.popupmessage.trim().length > 0,\n    },\n    {\n        id: \"badgeaward\",\n        Icon: CheckBadgeIconSolid,\n        yes: \"hasbadgeaward\",\n        no: \"hasnobadgeaward\",\n        checker: (level) => Boolean(level.badgeawardid),\n    },\n];\nconst optionsStatesStringIds = optionsStates.map((o) => o.yes).concat(optionsStates.map((o) => o.no));\nconst getInitialState = ({ levelsInfo }) => {\n    return {\n        algo: {\n            ...levelsInfo.algo,\n            method: levelsInfo.algo.method || \"relative\",\n            incr: levelsInfo.algo.incr || 30,\n        },\n        levels: levelsInfo.levels.map((level) => ({ ...level })),\n        nblevels: levelsInfo.levels.length,\n        pendingSave: false,\n    };\n};\nconst markPendingSave = (state) => {\n    return { ...state, pendingSave: true };\n};\nconst updateLevelPoints = (state) => {\n    return {\n        ...state,\n        levels: state.levels.reduce((carry, level, i) => {\n            return carry.concat([\n                { ...level, xprequired: Math.max(level.xprequired, getMinimumPointsForLevel(carry.concat([level]), level)) },\n            ]);\n        }, []),\n    };\n};\nconst reducer = (state, [action, payload]) => {\n    let nextLevel;\n    switch (action) {\n        case \"bulkEdit\":\n            return markPendingSave({\n                ...state,\n                algo: payload,\n                levels: state.levels.map((level) => ({\n                    ...level,\n                    xprequired: computeRequiredPointsWithMethod(level.level, payload),\n                })),\n            });\n        case \"levelDescChange\":\n            return markPendingSave({\n                ...state,\n                levels: state.levels.map((level) => {\n                    if (level !== payload.level) {\n                        return level;\n                    }\n                    return { ...level, description: stripTags(payload.desc) || null };\n                }),\n            });\n        case \"levelNameChange\":\n            return markPendingSave({\n                ...state,\n                levels: state.levels.map((level) => {\n                    if (level !== payload.level) {\n                        return level;\n                    }\n                    return { ...level, name: stripTags(payload.name) || null };\n                }),\n            });\n        case \"levelBadgeAwardIdChange\":\n            return markPendingSave({\n                ...state,\n                levels: state.levels.map((level) => {\n                    if (level !== payload.level) {\n                        return level;\n                    }\n                    return { ...level, badgeawardid: payload.badgeawardid || null };\n                }),\n            });\n        case \"levelPopupMessageChange\":\n            return markPendingSave({\n                ...state,\n                levels: state.levels.map((level) => {\n                    if (level !== payload.level) {\n                        return level;\n                    }\n                    return { ...level, popupmessage: payload.popupmessage || null };\n                }),\n            });\n        case \"levelPointsChange\":\n            nextLevel = getNextLevel(state.levels, payload.level, state.nblevels);\n            if (isNaN(payload.points) || payload.points <= 2 || payload.points >= Infinity) {\n                return state;\n            }\n            else if (payload.points <= getPreviousLevel(state.levels, payload.level).xprequired) {\n                return state;\n            }\n            return markPendingSave(updateLevelPoints({\n                ...state,\n                levels: state.levels.map((level) => {\n                    if (level !== payload.level) {\n                        return level;\n                    }\n                    return { ...level, xprequired: payload.points };\n                }),\n            }));\n        case \"nbLevelsChange\":\n            if (typeof payload?.n === \"undefined\" || isNaN(payload.n) || payload.n < 2 || payload.n > 99) {\n                return state;\n            }\n            return markPendingSave({\n                ...state,\n                nblevels: payload.n,\n                levels: state.levels.concat(Array.from({ length: Math.max(0, payload.n - state.levels.length) }).map((_, i) => {\n                    const l = state.levels.length + i + 1;\n                    return {\n                        level: l,\n                        name: null,\n                        description: null,\n                        badgeurl: (payload?.defaultBadgeUrls || {})[l] || null,\n                        xprequired: computeRequiredPointsWithMethod(l, state.algo),\n                    };\n                })),\n            });\n        case \"markSaved\":\n            return {\n                ...state,\n                pendingSave: false,\n            };\n    }\n    return state;\n};\nconst OptionField = ({ label, children, note, xpPlusRequired, }) => {\n    return (react.createElement(\"div\", null,\n        react.createElement(\"label\", { className: \"xp-m-0 xp-block xp-font-normal\" },\n            react.createElement(\"div\", { className: \"xp-flex\" },\n                react.createElement(\"div\", { className: \"xp-grow xp-uppercase xp-text-xs\" }, label),\n                react.createElement(\"div\", null, xpPlusRequired ? react.createElement(AddonRequired, null) : null)),\n            react.createElement(\"div\", { className: \"xp-mt-1\" }, children)),\n        note ? react.createElement(\"div\", { className: \"xp-text-gray-500 xp-mt-1\" }, note) : null));\n};\nconst showLevelUpNotificationPreview = async (level, prevLevel) => {\n    const PopupModule = await getModuleAsync(\"block_xp/popup-notification\");\n    PopupModule.show({\n        courseid: 0,\n        levelnum: level.level,\n        levelname: level.name,\n        levelbadge: getLevelHtml(level),\n        prevlevelbadge: getLevelHtml(prevLevel),\n        message: level.popupmessage,\n    });\n};\nconst App = ({ courseId, levelsInfo, resetToDefaultsUrl, defaultBadgeUrls, badges = [] }) => {\n    const hasXpPlus = useAddonActivated();\n    const [state, dispatch] = (0,react.useReducer)(reducer, { levelsInfo }, getInitialState);\n    const levels = state.levels.slice(0, state.nblevels);\n    const [expanded, setExpanded] = react.useState([]);\n    const [bulkEdit, setBulkEdit] = react.useState(false);\n    const getStr = useStrings(optionsStatesStringIds.concat([\"levelssaved\", \"unknownbadgea\", \"levelx\", \"previewpopupnotification\"]));\n    const getBadgeStr = useStrings([\"coursebadges\", \"sitebadges\"], \"core_badges\");\n    const getCoreStr = useStrings([\"other\", \"none\"], \"core\");\n    useUnloadCheck(state.pendingSave);\n    // Prepare the save mutation.\n    const mutation = (0,es.useMutation)(() => {\n        // An falsy course ID means admin config.\n        const method = courseId ? \"block_xp_set_levels_info\" : \"block_xp_set_default_levels_info\";\n        return ajaxRequest(method, {\n            courseid: courseId ? courseId : undefined,\n            levels: levels.map((level) => {\n                const { level: levelnum, xprequired, ...metadata } = level;\n                return {\n                    level: levelnum,\n                    xprequired: xprequired,\n                    metadata: Object.entries(metadata).reduce((carry, [name, value]) => carry.concat([{ name, value }]), []),\n                };\n            }),\n            algo: state.algo,\n        });\n    });\n    // Reset mutation after success.\n    (0,react.useEffect)(() => {\n        if (!mutation.isSuccess) {\n            return;\n        }\n        const t = setTimeout(() => {\n            mutation.reset();\n        }, 2500);\n        return () => clearTimeout(t);\n    });\n    const siteBadges = (0,react.useMemo)(() => badges.filter((b) => b.type === BADGE_TYPE.Site).sort((a, b) => a.name.localeCompare(b.name)), [badges]);\n    const courseBadges = (0,react.useMemo)(() => badges.filter((b) => b.type === BADGE_TYPE.Course).sort((a, b) => a.name.localeCompare(b.name)), [badges]);\n    const allExpanded = expanded.length === levels.length;\n    const handleCollapseExpandAll = () => {\n        setExpanded(allExpanded ? [] : levels.map((l) => l.level));\n    };\n    const handleSave = () => {\n        mutation.mutate(undefined, {\n            onSuccess: () => {\n                const Toast = getModule(\"core/toast\");\n                Toast && Toast.add(getStr(\"levelssaved\"));\n                dispatch([\"markSaved\", true]);\n            },\n        });\n    };\n    const handleBulkEdit = (state) => {\n        dispatch([\"bulkEdit\", state]);\n    };\n    const handleNumLevelsChange = (n) => {\n        dispatch([\"nbLevelsChange\", { n, defaultBadgeUrls }]);\n    };\n    const handleLevelDescChange = (level, desc) => {\n        if (level.description === desc)\n            return;\n        dispatch([\"levelDescChange\", { level, desc: desc }]);\n    };\n    const handleLevelNameChange = (level, name) => {\n        if (level.name === name)\n            return;\n        dispatch([\"levelNameChange\", { level, name: name }]);\n    };\n    const handleXpChange = (level, xp) => {\n        if (level.xprequired === xp)\n            return;\n        dispatch([\"levelPointsChange\", { level, points: xp }]);\n    };\n    return (react.createElement(\"div\", { className: \"xp-flex xp-flex-col\" },\n        react.createElement(\"div\", { className: \"xp-mb-4 xp-flex xp-items-end xp-justify-end xp-flex-wrap xp-gap-4\" },\n            react.createElement(\"div\", { className: \"xp-flex xp-flex-1 xp-gap-4 xp-items-end xp-flex-wrap\" },\n                react.createElement(\"div\", { className: \"\" },\n                    react.createElement(\"label\", { htmlFor: \"label-x\", className: \"xp-block xp-m-0\" },\n                        react.createElement(components_Str, { id: \"numberoflevels\" })),\n                    react.createElement(NumberInputWithButtons, { value: state.nblevels, onChange: handleNumLevelsChange, min: 2, max: 99, inputProps: { id: \"label-x\", maxLength: 2 } })),\n                react.createElement(\"div\", { className: \"\" },\n                    react.createElement(Button, { onClick: () => setBulkEdit(true) },\n                        react.createElement(components_Str, { id: \"quickeditpoints\" })),\n                    react.createElement(BulkEditPointsModal, { show: bulkEdit, onClose: () => setBulkEdit(false), onSave: handleBulkEdit, method: state.algo.method, coef: state.algo.coef, base: state.algo.base, incr: state.algo.incr }))),\n            react.createElement(\"div\", { className: \"xp-flex xp-gap-1\" },\n                react.createElement(SaveButton, { statePosition: \"before\", onClick: handleSave, mutation: mutation, disabled: !state.pendingSave || mutation.isLoading }),\n                react.createElement(menu/* Menu */.W, { as: \"div\", className: \"xp-relative xp-inline-block xp-text-left\" },\n                    react.createElement(\"div\", null,\n                        react.createElement(menu/* Menu */.W.Button, { className: \"xp-text-inherit xp-bg-transparent xp-border-0 xp-p-2 xp-flex xp-items-center xp-rounded-full hover:xp-bg-gray-100\" },\n                            react.createElement(\"span\", { className: \"sr-only\" },\n                                react.createElement(components_Str, { id: \"options\", component: \"core\" })),\n                            react.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 20 20\", fill: \"currentColor\", className: \"xp-w-5 xp-h-5\", \"aria-hidden\": \"true\" },\n                                react.createElement(\"path\", { d: \"M10 3a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM10 8.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM11.5 15.5a1.5 1.5 0 10-3 0 1.5 1.5 0 003 0z\" })))),\n                    react.createElement(menu/* Menu */.W.Items, { className: \"xp-absolute xp-right-0 xp-z-10 xp-mt-2 xp-w-56 xp-origin-top-right xp-rounded-md xp-bg-white xp-border xp-border-solid xp-border-gray-300 xp-shadow-sm xp-divide-y xp-divide-gray-100\" },\n                        react.createElement(\"div\", { className: \"xp-py-1\" },\n                            react.createElement(menu/* Menu */.W.Item, null, ({ active, close }) => (react.createElement(\"a\", { href: \"#\", role: \"button\", onClick: (e) => {\n                                    e.preventDefault();\n                                    handleCollapseExpandAll();\n                                    close();\n                                }, className: utils_classNames(active ? \"xp-bg-gray-100\" : null, \"xp-text-inherit xp-block xp-px-6 xp-py-1 xp-no-underline\") }, allExpanded ? react.createElement(components_Str, { id: \"collapseall\", component: \"core\" }) : react.createElement(components_Str, { id: \"expandall\", component: \"core\" })))),\n                            react.createElement(menu/* Menu */.W.Item, null, ({ active, close }) => (react.createElement(\"a\", { href: HELP_URL_LEVELS, target: \"_blank\", rel: \"noopener\", className: utils_classNames(active ? \"xp-bg-gray-100\" : null, \"xp-text-inherit xp-block xp-px-6 xp-py-1 xp-no-underline\") },\n                                react.createElement(components_Str, { id: \"documentation\" }))))),\n                        resetToDefaultsUrl ? (react.createElement(\"div\", { className: \"xp-py-1\" },\n                            react.createElement(menu/* Menu */.W.Item, null, ({ active, close }) => (react.createElement(\"a\", { href: resetToDefaultsUrl, className: utils_classNames(active ? \"xp-bg-gray-100\" : null, \"xp-text-red-600 xp-block xp-px-6 xp-py-1 xp-no-underline\") },\n                                react.createElement(components_Str, { id: \"resettodefaults\" })))))) : null)))),\n        react.createElement(\"div\", { className: \"xp-flex xp-flex-col xp-flex-1 xp-gap-4\" }, Array.from({ length: state.nblevels }).map((_, idx) => {\n            const level = levels[idx] || { level: idx + 1, xprequired: 0 };\n            const prevLevel = levels[idx - 1];\n            const nextLevel = levels[idx + 1];\n            const pointsInLevel = nextLevel ? nextLevel.xprequired - level.xprequired : 0;\n            const isExpanded = expanded.includes(level.level);\n            let optionStates = level.level <= 1\n                ? optionsStates.filter((o) => [\"name\", \"description\", courseId ? null : \"badgeawardid\"].includes(o.id))\n                : optionsStates;\n            optionStates = optionStates.concat(Array.from({ length: Math.max(0, optionsStates.length - optionStates.length) }).map((_) => null));\n            const isBadgeValueMissing = levelsInfo.levels[idx]?.badgeawardid && !badges.find((b) => b.id === levelsInfo.levels[idx].badgeawardid);\n            const handleBadgeAwardIdChange = (e) => {\n                dispatch([\"levelBadgeAwardIdChange\", { level, badgeawardid: parseInt(e.target.value, 10) || null }]);\n            };\n            const handlePopupMessageChange = (e) => {\n                dispatch([\"levelPopupMessageChange\", { level, popupmessage: e.target.value }]);\n            };\n            return (react.createElement(react.Fragment, { key: `l${level.level}` },\n                react.createElement(\"div\", { className: \"xp-relative xp-min-h-28 xp-rounded-lg xp-border xp-border-solid xp-border-gray-200 xp-p-3 xp-overflow-hidden\" },\n                    react.createElement(\"div\", { className: \"xp-absolute xp--top-4 xp--left-8 xp-text-[10rem] xp-text-gray-50 xp-leading-none xp-pointer-events-none\" }, level.level),\n                    react.createElement(\"div\", { className: \"xp-flex xp-items-center xp-flex-grow xp-gap-4 sm:xp-gap-8 xp-flex-col sm:xp-flex-row xp-relative\" },\n                        react.createElement(\"div\", { className: \"xp-flex-0\" },\n                            react.createElement(Tooltip, { content: getStr(\"levelx\", level.level) },\n                                react.createElement(components_Level, { level: level }))),\n                        react.createElement(\"div\", { className: \"xp-shrink-0 xp-basis-auto sm:xp-basis-52 sm:xp--mt-3.5\" },\n                            react.createElement(\"div\", { className: \"xp-grid xp-grid-cols-2\" },\n                                react.createElement(\"label\", { className: \"xp-m-0 xp-flex xp-items-end xp-text-xs xp-font-normal xp-uppercase\", htmlFor: `xp-level-${level.level}-start` },\n                                    react.createElement(components_Str, { id: \"levelpointsstart\" })),\n                                react.createElement(\"label\", { className: \"xp-m-0 xp-flex xp-items-end xp-text-xs xp-font-normal xp-uppercase\", htmlFor: `xp-level-${level.level}-length` },\n                                    react.createElement(components_Str, { id: \"levelpointslength\" }))),\n                            react.createElement(\"div\", { className: \"xp-grid xp-grid-cols-2 xp-border xp-border-solid xp-border-gray-300 xp-rounded\" },\n                                react.createElement(\"div\", null,\n                                    react.createElement(NumInput, { value: level.xprequired, onChange: (xp) => handleXpChange(level, xp), disabled: level.level <= 1, className: \"xp-h-full xp-min-w-[4ch] xp-w-full xp-rounded-none xp-rounded-l xp-border-0 xp-relative focus:xp-z-10\", id: `xp-level-${level.level}-start` })),\n                                react.createElement(\"div\", { className: \"\" },\n                                    react.createElement(\"div\", { className: \"xp-relative xp-w-full x-h-full\" },\n                                        react.createElement(\"div\", { className: \"xp-pointer-events-none xp-absolute xp-inset-y-0 xp-left-0 xp-flex xp-items-center xp-pl-2 xp-z-20\" },\n                                            react.createElement(\"span\", { className: \"xp-text-gray-500\" }, \"+\")),\n                                        react.createElement(NumInput, { value: pointsInLevel, onChange: (xp) => handleXpChange(nextLevel, level.xprequired + xp), disabled: pointsInLevel <= 0, className: \"xp-h-full xp-min-w-[4ch] xp-w-full xp-border-0 xp-rounded-none xp-border-l xp-border-gray-300 xp-rounded-r xp-pl-6 xp-relative focus:xp-z-10\", id: `xp-level-${level.level}-length` }))))),\n                        react.createElement(\"div\", { className: \"xp-flex xp-grow xp-items-center xp-justify-center  xp-gap-4\" }, optionStates.map((o, idx) => {\n                            if (!o) {\n                                return react.createElement(\"div\", { key: idx, className: \"xp-w-6 xp-h-6 xp-hidden sm:xp-block\" });\n                            }\n                            const state = o.checker(level);\n                            const label = getStr(state ? o.yes : o.no);\n                            return (react.createElement(Tooltip, { content: label, key: idx },\n                                react.createElement(\"div\", { className: utils_classNames(\"xp-w-6 xp-h-6\", !state ? \"xp-text-gray-300\" : null) },\n                                    react.createElement(\"span\", { className: \"xp-sr-only\" }, label),\n                                    react.createElement(o.Icon, { className: \"xp-w-full xp-h-full\" }))));\n                        })),\n                        react.createElement(\"div\", { className: \"xp-flex-0 sm:xp--mr-3\" },\n                            react.createElement(AnchorButton, { \"aria-expanded\": isExpanded, \"aria-controls\": `xp-level-${level.level}-options`, onClick: () => {\n                                    setExpanded(isExpanded ? expanded.filter((e) => e != level.level) : [level.level, ...expanded]);\n                                }, className: \"xp-p-2 xp-inline-block sm:xp-mr-1\" },\n                                react.createElement(\"span\", { className: \"xp-sr-only\" }, isExpanded ? react.createElement(components_Str, { id: \"collapse\", component: \"core\" }) : react.createElement(components_Str, { id: \"expand\", component: \"core\" })),\n                                react.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", fill: \"none\", viewBox: \"0 0 24 24\", strokeWidth: 1.5, stroke: \"currentColor\", className: utils_classNames(\"xp-w-6 xp-h-6 xp-transition-transform xp-duration-300\", isExpanded ? \"xp-rotate-90\" : null) },\n                                    react.createElement(\"path\", { strokeLinecap: \"round\", strokeLinejoin: \"round\", d: \"M8.25 4.5l7.5 7.5-7.5 7.5\" }))))),\n                    react.createElement(Expandable, { expanded: isExpanded, id: `xp-level-${level.level}-options` },\n                        react.createElement(\"div\", { className: utils_classNames(\"sm:xp-ml-[100px] sm:xp-pl-8 xp-space-y-4\") },\n                            react.createElement(\"div\", { className: \"xp-flex xp-items-end xp-gap-4\" },\n                                react.createElement(\"div\", { className: \"xp-flex-1\" },\n                                    react.createElement(OptionField, { label: react.createElement(components_Str, { id: \"name\" }) },\n                                        react.createElement(components_Input, { className: \"xp-min-w-48 x-w-full sm:xp-w-2/3 xp-max-w-full\", onBlur: (e) => handleLevelNameChange(level, e.target.value), defaultValue: level.name || \"\", maxLength: 40, type: \"text\" }))),\n                                prevLevel ? (react.createElement(\"div\", { className: \"xp-mb-1.5 xp-h-6 xp-w-6\" },\n                                    react.createElement(Tooltip, { content: getStr(\"previewpopupnotification\") },\n                                        react.createElement(\"div\", null,\n                                            react.createElement(AnchorButton, { onClick: () => showLevelUpNotificationPreview(level, prevLevel) },\n                                                react.createElement(\"span\", { className: \"xp-sr-only\" }, getStr(\"previewpopupnotification\")),\n                                                react.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", fill: \"none\", viewBox: \"0 0 24 24\", strokeWidth: 1.5, stroke: \"currentColor\", className: \"xp-w-6 xp-h-6\" },\n                                                    react.createElement(\"path\", { strokeLinecap: \"round\", strokeLinejoin: \"round\", d: \"M12 8.25v-1.5m0 1.5c-1.355 0-2.697.056-4.024.166C6.845 8.51 6 9.473 6 10.608v2.513m6-4.871c1.355 0 2.697.056 4.024.166C17.155 8.51 18 9.473 18 10.608v2.513M15 8.25v-1.5m-6 1.5v-1.5m12 9.75-1.5.75a3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0L3 16.5m15-3.379a48.474 48.474 0 0 0-6-.371c-2.032 0-4.034.126-6 .371m12 0c.39.049.777.102 1.163.16 1.07.16 1.837 1.094 1.837 2.175v5.169c0 .621-.504 1.125-1.125 1.125H4.125A1.125 1.125 0 0 1 3 20.625v-5.17c0-1.08.768-2.014 1.837-2.174A47.78 47.78 0 0 1 6 13.12M12.265 3.11a.375.375 0 1 1-.53 0L12 2.845l.265.265Zm-3 0a.375.375 0 1 1-.53 0L9 2.845l.265.265Zm6 0a.375.375 0 1 1-.53 0L15 2.845l.265.265Z\" }))))))) : null),\n                            react.createElement(OptionField, { label: react.createElement(components_Str, { id: \"description\" }), note: react.createElement(components_Str, { id: \"leveldescriptiondesc\" }) },\n                                react.createElement(Textarea, { className: \"xp-w-full\", onBlur: (e) => handleLevelDescChange(level, e.target.value), defaultValue: level.description || \"\", maxLength: 280, rows: 2 })),\n                            react.createElement(IfAddonActivatedOrPromoEnabled, null, level.level > 1 ? (react.createElement(react.Fragment, null,\n                                react.createElement(OptionField, { label: react.createElement(components_Str, { id: \"popupnotificationmessage\" }), note: react.createElement(components_Str, { id: \"popupnotificationmessagedesc\" }), xpPlusRequired: !hasXpPlus },\n                                    react.createElement(Textarea, { className: \"xp-w-full\", onBlur: handlePopupMessageChange, defaultValue: level.popupmessage || \"\", maxLength: 280, rows: 2, disabled: !hasXpPlus })),\n                                react.createElement(OptionField, { label: react.createElement(components_Str, { id: \"badgeaward\" }), note: react.createElement(components_Str, { id: \"badgeawarddesc\" }), xpPlusRequired: !hasXpPlus }, courseId ? (react.createElement(Select, { disabled: !hasXpPlus, className: \"xp-max-w-full xp-w-auto\", value: level.badgeawardid ?? \"\", onChange: handleBadgeAwardIdChange },\n                                    react.createElement(\"option\", null, getCoreStr(\"none\")),\n                                    courseBadges.length ? (react.createElement(\"optgroup\", { label: getBadgeStr(\"coursebadges\") }, courseBadges.map((b) => (react.createElement(\"option\", { value: b.id, key: b.id }, b.name))))) : null,\n                                    siteBadges.length ? (react.createElement(\"optgroup\", { label: getBadgeStr(\"sitebadges\") }, siteBadges.map((b) => (react.createElement(\"option\", { value: b.id, key: b.id }, b.name))))) : null,\n                                    isBadgeValueMissing ? (react.createElement(\"optgroup\", { label: getCoreStr(\"other\") },\n                                        react.createElement(\"option\", { value: level.badgeawardid || \"\" }, getStr(\"unknownbadgea\", level.badgeawardid)))) : null)) : (react.createElement(\"div\", { className: \"alert alert-info xp-m-0\" },\n                                    react.createElement(components_Str, { id: \"cannotbesetindefaults\" })))))) : (react.createElement(\"div\", null,\n                                react.createElement(\"div\", { className: \"xp-text-sm xp-text-gray-500 xp-italic\" },\n                                    react.createElement(components_Str, { id: \"levelupoptionsunavailableforlevelone\" }))))))))));\n        })),\n        react.createElement(\"div\", { className: \"xp-flex xp-flex-1 xp-gap-4 xp-items-start xp-flex-wrap xp-mt-4\" },\n            react.createElement(\"div\", { className: \"xp-grow\" },\n                react.createElement(Button, { onClick: () => handleNumLevelsChange(state.nblevels + 1) },\n                    react.createElement(components_Str, { id: \"addlevel\" }))),\n            react.createElement(\"div\", { className: \"\" },\n                react.createElement(SaveButton, { statePosition: \"before\", onClick: handleSave, mutation: mutation, disabled: !state.pendingSave || mutation.isLoading })))));\n};\nfunction startApp(node, props) {\n    react_dom.render(react.createElement(AddonContext.Provider, { value: makeAddonContextValueFromAppProps(props) },\n        react.createElement(es.QueryClientProvider, { client: query_queryClient },\n            react.createElement(App, { ...props }))), node);\n}\nconst dependencies = makeDependenciesDefinition(commonStaticModulesToDependOn);\n\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = __webpack_modules__;\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/chunk loaded */\n/******/ \t(() => {\n/******/ \t\tvar deferred = [];\n/******/ \t\t__webpack_require__.O = (result, chunkIds, fn, priority) => {\n/******/ \t\t\tif(chunkIds) {\n/******/ \t\t\t\tpriority = priority || 0;\n/******/ \t\t\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n/******/ \t\t\t\tdeferred[i] = [chunkIds, fn, priority];\n/******/ \t\t\t\treturn;\n/******/ \t\t\t}\n/******/ \t\t\tvar notFulfilled = Infinity;\n/******/ \t\t\tfor (var i = 0; i < deferred.length; i++) {\n/******/ \t\t\t\tvar [chunkIds, fn, priority] = deferred[i];\n/******/ \t\t\t\tvar fulfilled = true;\n/******/ \t\t\t\tfor (var j = 0; j < chunkIds.length; j++) {\n/******/ \t\t\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n/******/ \t\t\t\t\t\tchunkIds.splice(j--, 1);\n/******/ \t\t\t\t\t} else {\n/******/ \t\t\t\t\t\tfulfilled = false;\n/******/ \t\t\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t}\n/******/ \t\t\t\tif(fulfilled) {\n/******/ \t\t\t\t\tdeferred.splice(i--, 1)\n/******/ \t\t\t\t\tvar r = fn();\n/******/ \t\t\t\t\tif (r !== undefined) result = r;\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t\treturn result;\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t(() => {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = (module) => {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\t() => (module['default']) :\n/******/ \t\t\t\t() => (module);\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/create fake namespace object */\n/******/ \t(() => {\n/******/ \t\tvar getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\n/******/ \t\tvar leafPrototypes;\n/******/ \t\t// create a fake namespace object\n/******/ \t\t// mode & 1: value is a module id, require it\n/******/ \t\t// mode & 2: merge all properties of value into the ns\n/******/ \t\t// mode & 4: return value when already ns object\n/******/ \t\t// mode & 16: return value when it's Promise-like\n/******/ \t\t// mode & 8|1: behave like require\n/******/ \t\t__webpack_require__.t = function(value, mode) {\n/******/ \t\t\tif(mode & 1) value = this(value);\n/******/ \t\t\tif(mode & 8) return value;\n/******/ \t\t\tif(typeof value === 'object' && value) {\n/******/ \t\t\t\tif((mode & 4) && value.__esModule) return value;\n/******/ \t\t\t\tif((mode & 16) && typeof value.then === 'function') return value;\n/******/ \t\t\t}\n/******/ \t\t\tvar ns = Object.create(null);\n/******/ \t\t\t__webpack_require__.r(ns);\n/******/ \t\t\tvar def = {};\n/******/ \t\t\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n/******/ \t\t\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n/******/ \t\t\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n/******/ \t\t\t}\n/******/ \t\t\tdef['default'] = () => (value);\n/******/ \t\t\t__webpack_require__.d(ns, def);\n/******/ \t\t\treturn ns;\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/runtimeId */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.j = 251;\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/jsonp chunk loading */\n/******/ \t(() => {\n/******/ \t\t// no baseURI\n/******/ \t\t\n/******/ \t\t// object to store loaded and loading chunks\n/******/ \t\t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n/******/ \t\t// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\n/******/ \t\tvar installedChunks = {\n/******/ \t\t\t251: 0\n/******/ \t\t};\n/******/ \t\t\n/******/ \t\t// no chunk on demand loading\n/******/ \t\t\n/******/ \t\t// no prefetching\n/******/ \t\t\n/******/ \t\t// no preloaded\n/******/ \t\t\n/******/ \t\t// no HMR\n/******/ \t\t\n/******/ \t\t// no HMR manifest\n/******/ \t\t\n/******/ \t\t__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n/******/ \t\t\n/******/ \t\t// install a JSONP callback for chunk loading\n/******/ \t\tvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n/******/ \t\t\tvar [chunkIds, moreModules, runtime] = data;\n/******/ \t\t\t// add \"moreModules\" to the modules object,\n/******/ \t\t\t// then flag all \"chunkIds\" as loaded and fire callback\n/******/ \t\t\tvar moduleId, chunkId, i = 0;\n/******/ \t\t\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n/******/ \t\t\t\tfor(moduleId in moreModules) {\n/******/ \t\t\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n/******/ \t\t\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t}\n/******/ \t\t\t\tif(runtime) var result = runtime(__webpack_require__);\n/******/ \t\t\t}\n/******/ \t\t\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n/******/ \t\t\tfor(;i < chunkIds.length; i++) {\n/******/ \t\t\t\tchunkId = chunkIds[i];\n/******/ \t\t\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n/******/ \t\t\t\t\tinstalledChunks[chunkId][0]();\n/******/ \t\t\t\t}\n/******/ \t\t\t\tinstalledChunks[chunkId] = 0;\n/******/ \t\t\t}\n/******/ \t\t\treturn __webpack_require__.O(result);\n/******/ \t\t}\n/******/ \t\t\n/******/ \t\tvar chunkLoadingGlobal = globalThis[\"webpackChunkblock_xp\"] = globalThis[\"webpackChunkblock_xp\"] || [];\n/******/ \t\tchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\n/******/ \t\tchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n/******/ \t})();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module depends on other loaded chunks and execution need to be delayed\n/******/ \tvar __webpack_exports__ = __webpack_require__.O(undefined, [224], () => (__webpack_require__(791)))\n/******/ \t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n/******/ \t\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});;"],"names":["define","deferred","leafPrototypes","getProto","__webpack_modules__","__unused_webpack_module","__webpack_exports__","__webpack_require__","r","d","App","dependencies","startApp","menu","react","react_dom","es","makeAddonContextValueFromAppProps","props","activated","enablepromo","promourl","addon","AddonContext","createContext","utils_classNames","args","filter","Boolean","join","stripTags","html","tmp","document","createElement","innerHTML","textContent","innerText","escapeCharMap","escapeHtml","text","replace","m","M","window","modules","getString","id","component","a","util","get_string","hasString","str","getModule","name","getModuleAsync","amd","Promise","resolve","reject","require","mod","imageUrl","image_url","loadStringCache","maxItems","items","keys","purge","length","idx","Math","max","slice","forEach","key","set","value","push","get","fifoCache","loadString","cacheKey","promise","loadStrings","ids","get_strings","map","useAnchorButtonProps","onClick","href","role","useRoleButtonListeners","e","preventDefault","onKeyDown","useUnloadCheck","isDirty","hooks_useString","useEffect","fn","cfg","behatsiterunning","returnValue","addEventListener","removeEventListener","wasKnownAtMount","useMemo","isLoaded","setLoaded","useState","cancelled","err","useStrings","idsForKey","allKnownAtMount","every","IfAddonActivatedOrPromoEnabled","_ref","children","useContext","Fragment","AddonRequired","getStr","className","SaveCancelModal","_ref2","onClose","onSave","show","title","saveButtonText","defaultHeight","large","canSave","modalPromise","useRef","modalRef","isSavePermitted","msDelay","ref","useCallback","current","Date","now","hooks_useDuplicatedActionPreventor","modulesPromise","modulesRef","ready","setReady","all","module","then","loadedModles","reduce","acc","i","hooks_useModules","getSaveButton","node","getFooter","querySelector","setSaveButtonText","saveBtn","ModalFactory","create","type","types","SAVE_CANCEL","body","modal","ModalEvents","root","getRoot","handleSave","handleClose","updateReactNodeHeight","getBody","reactNode","height","clientHeight","parseFloat","getComputedStyle","paddingTop","paddingBottom","style","attachResize","on","save","hidden","shown","off","hide","setTitle","attr","removeAttribute","setAttribute","setButtonAttribute","createPortal","components_Str","_ref5","Select","_ref7","Textarea","_ref8","components_Input","_ref6","NumInput","_ref9","onChange","selectOnFocus","inputProps","valueAsString","toString","externalValue","setExternalValue","internalValue","setInternalValue","target","onBlur","v","parseInt","hooks_useNumericInputProps","onFocus","currentTarget","select","NumberInputWithButtons","_ref11","min","suffix","step","hasMin","hasMax","minDisabled","maxDisabled","minusProps","handleChange","plusProps","n","final","inputClassName","remainingInputProps","allInputProps","xmlns","viewBox","fill","fillRule","clipRule","RadioGroup","_ref12","uniqid","random","item","checked","label","desc","calculationMethodReducer","state","action","method","payload","base","incr","coef","getDefaultBulkEditPointsState","BulkEditPoints","_ref13","onBaseChange","onCoefChange","onIncrementChange","onMethodChange","rel","htmlFor","floor","p","maxLength","BulkEditPointsModal","dispatch","useReducer","components_Pix","_ref14","alt","src","components_Spinner","_ref15","Button","_ref17","disabled","primary","classes","SaveButton","_ref18","mutation","statePosition","isLoading","isSuccess","isError","isStateBefore","AnchorButton","_ref19","anchorButtonProps","esm","Expandable","expanded","A","applyInlineTransitions","animationStateClasses","animating","static","animatingUp","animatingDown","animatingToHeightZero","animatingToHeightAuto","animatingToHeightSpecific","staticHeightZero","staticHeightAuto","staticHeightSpecific","getLevelHtml","level","small","medium","badgeurl","components_Level","forwardRef","Tooltip","_ref27","content","$","tooltip","cloneElement","computeRequiredPointsWithMethod","round","pow","computeRequiredPoints","Array","from","carry","_","getMinimumPointsForLevel","levels","getPreviousLevel","xprequired","indexOf","query_queryClient","E","defaultOptions","queries","staleTime","onError","exception","mutations","BADGE_TYPE","optionsStates","Icon","_ref23","yes","no","checker","trim","_ref21","description","_ref24","popupmessage","_ref22","badgeawardid","optionsStatesStringIds","o","concat","getInitialState","_ref28","levelsInfo","algo","nblevels","pendingSave","markPendingSave","reducer","nextLevel","highest","index","getNextLevel","isNaN","points","Infinity","updateLevelPoints","l","defaultBadgeUrls","OptionField","_ref30","note","xpPlusRequired","_ref31","courseId","resetToDefaultsUrl","badges","hasXpPlus","setExpanded","bulkEdit","setBulkEdit","getBadgeStr","getCoreStr","useMutation","call","methodname","ajaxRequest","courseid","undefined","levelnum","metadata","Object","entries","t","setTimeout","reset","clearTimeout","siteBadges","b","Site","sort","localeCompare","courseBadges","Course","allExpanded","mutate","onSuccess","Toast","add","handleNumLevelsChange","handleXpChange","xp","W","as","Items","Item","_ref33","active","close","_ref34","_ref35","prevLevel","pointsInLevel","isExpanded","includes","optionStates","isBadgeValueMissing","find","strokeWidth","stroke","strokeLinecap","strokeLinejoin","handleLevelNameChange","defaultValue","async","levelname","levelbadge","prevlevelbadge","message","showLevelUpNotificationPreview","handleLevelDescChange","rows","render","Provider","QueryClientProvider","client","names","optional","list","isOptional","charAt","substring","loader","mods","setModule","makeDependenciesDefinition","__webpack_module_cache__","moduleId","cachedModule","exports","O","result","chunkIds","priority","notFulfilled","fulfilled","j","splice","getter","__esModule","getPrototypeOf","obj","__proto__","mode","this","ns","def","getOwnPropertyNames","definition","defineProperty","enumerable","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","globalThis","bind"],"mappings":"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"}